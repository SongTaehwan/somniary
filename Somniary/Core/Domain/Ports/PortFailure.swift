//
//  Failure.swift
//  Somniary
//
//  Created by ì†¡íƒœí™˜ on 12/23/25.
//

import Foundation

/// í¬íŠ¸ ê²½ê³„ë¥¼ ë„˜ì„ ë•Œ â€œë„ë©”ì¸ ì˜ë¯¸ì˜ ì‹¤íŒ¨ì™€ â€œì•± ë ˆë²¨ ì‹¤íŒ¨â€ë¥¼ í•©ì³ ì „ë‹¬í•˜ëŠ” ì‹¤íŒ¨ ì»¨í…Œì´ë„ˆ
/// ëª©ì : ë„ë©”ì¸ ì‹¤íŒ¨ì™€ ì˜ì¡´ì„± ì‹¤íŒ¨ë¥¼ ë™ì‹œì— í‘œí˜„í•˜ë©´ì„œ, ë ˆí¬ì§€í† ë¦¬ ê²½ê³„ë¥¼ ë„˜ì„ ë•Œ ì˜ë¯¸ë¥¼ ë³´ì¡´í•˜ê¸° ìœ„í•¨
/// "í•„ìš”ì„±: ì´ í•¨ìˆ˜ê°€ ì–´ë–¤ ì—ëŸ¬ë¥¼ ë˜ì§ˆ ìˆ˜ ìˆëŠ”ì§€" ê°€ ì»´íŒŒì¼ íƒ€ì„ì— ë“œëŸ¬ë‚˜ì§€ ì•Šì•„ (ê³„ì•½ì´ ì•½í•´ì§)
enum PortFailure<BoundaryFailure: Error & Equatable>: Error, Equatable {
    case boundary(BoundaryFailure)
    case system(SystemFailure)
}

#if DEBUG
extension PortFailure {
    func debugPrint(caller: String = #function, file: String = #file, line: Int = #line) {
        let message = {
            let time = Date.now.formatted(date: .numeric, time: .standard)
            let fileName = (file as NSString).lastPathComponent

            switch self {
            case .boundary(let error):
                return """
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ’¥ \(PortFailure.self)
                â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ“š Layer      : Data
                â•‘ ğŸ“ Caller     : \(caller)
                â•‘ ğŸ“ Location   : \(fileName):\(line)
                â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ¯ Level      : Boundary
                â•‘ ğŸ’¬ Case       : \(String.init(describing: error).replacingOccurrences(of: "Somniary.", with: ""))
                â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                â•‘ â° Time       : \(time)
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                """
            case .system(let error):
                return """
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ’¥ \(PortFailure.self)
                â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ“š Layer      : Data
                â•‘ ğŸ“ Caller     : \(caller)
                â•‘ ğŸ“ Location   : \(fileName):\(line)
                â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â•‘ ğŸ¯ Level      : System
                â•‘ ğŸ’¬ Type       : \(String.init(describing: error).replacingOccurrences(of: "Somniary.", with: ""))
                â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                â•‘ â° Time       : \(time)
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                """
            }
        }()

        print(message)
    }
}
#endif
